// Translations
const translations = {
    es: {
        // Nav
        'nav.home': 'Inicio',
        'nav.about': 'Nosotros',
        'nav.services': 'Servicios',
        'nav.team': 'Equipo',
        'nav.location': 'Ubicación',
        'nav.contact': 'Contacto',

        // Hero
        'hero.badge': 'Más de 70 años de tradición',
        'hero.title': 'Tu sonrisa en las mejores manos',
        'hero.subtitle': 'Tres generaciones dedicadas a la excelencia en odontología. Atención personalizada con enfoque en prevención y técnicas mínimamente invasivas.',
        'hero.cta': 'Agendar cita',
        'hero.cta2': 'Conocer más',

        // About
        'about.title': 'Una tradición de excelencia en odontología',
        'about.p1': 'Dental Lopez Bartaburu nació hace más de 70 años de la mano del Dr. Luis Lopez, quien estableció los cimientos de lo que hoy es una tradición familiar dedicada a la salud dental.',
        'about.p2': 'Hoy, su hija la Dra. Claudia Lopez de Bartaburu y su nieta la Dra. Fernanda Bartaburu continúan ese legado, combinando la experiencia acumulada de generaciones con las técnicas más modernas.',
        'about.p3': 'Nuestra filosofía se centra en la prevención y en realizar intervenciones lo menos invasivas posibles, para que nuestros pacientes puedan disfrutar de su sonrisa de forma natural y sana.',
        'about.stat1': 'Años de experiencia',
        'about.stat2': 'Generaciones',
        'about.visual': 'Tres generaciones cuidando tu sonrisa',

        // Values
        'value1.title': 'Atención Personalizada',
        'value1.text': 'Cada paciente es único. Diseñamos planes de tratamiento adaptados a tus necesidades específicas.',
        'value2.title': 'Prevención',
        'value2.text': 'La mejor odontología es la que previene problemas. Te ayudamos a mantener una salud bucal óptima.',
        'value3.title': 'Mínima Invasión',
        'value3.text': 'Técnicas que preservan el tejido dental sano para resultados más naturales y duraderos.',

        // Services
        'services.title': 'Nuestros Servicios',
        'services.subtitle': 'Tratamientos odontológicos con la más alta calidad y tecnología actual',
        'service1.title': 'Odontología General',
        'service1.text': 'Revisiones periódicas, limpiezas profesionales y tratamientos preventivos.',
        'service2.title': 'Estética Dental',
        'service2.text': 'Blanqueamientos, carillas y tratamientos para una sonrisa perfecta.',
        'service3.title': 'Restauraciones',
        'service3.text': 'Empastes, coronas e incrustaciones con materiales de última generación.',
        'service4.title': 'Implantología',
        'service4.text': 'Implantes dentales de última generación para recuperar piezas perdidas.',
        'service5.title': 'Periodoncia',
        'service5.text': 'Tratamiento de encías y tejidos de soporte para una base sólida.',
        'service6.title': 'Odontopediatría',
        'service6.text': 'Cuidado dental especializado para los más pequeños de la familia.',

        // Team
        'team.title': 'Nuestro Equipo',
        'team.subtitle': 'Profesionales comprometidos con tu salud dental',
        'team1.role': 'Odontóloga',
        'team1.bio': 'Segunda generación de la familia Lopez dedicada a la odontología. Con décadas de experiencia, combina la tradición familiar con las técnicas más actuales.',
        'team2.role': 'Odontóloga',
        'team2.bio': 'Tercera generación que continúa el legado familiar. Especializada en las últimas técnicas de odontología mínimamente invasiva.',

        // Legacy
        'legacy.title': 'Un Legado de Cuidado',
        'legacy.p1': 'Todo comenzó hace más de 70 años cuando el Dr. Luis Lopez abrió las puertas de su consultorio con una visión clara: brindar atención odontológica de calidad con un trato humano y cercano.',
        'legacy.p2': 'Esa visión sigue viva hoy. Cada paciente que cruza nuestra puerta recibe el mismo compromiso y dedicación que caracterizó a nuestro fundador.',
        'legacy.quote': '"La mejor odontología es aquella que trata a cada paciente como familia."',
        'legacy.cite': '— Dr. Luis Lopez, Fundador',

        // Location
        'location.title': 'Nuestra Ubicación',
        'location.subtitle': 'En el corazón de La Cumbre, Poblado Histórico Nacional',
        'location.address': 'La Cumbre, Córdoba - CP 5178',
        'location.btn': 'Ver en Google Maps',
        'location.region': 'La Cumbre, Valle de Punilla',
        'location.desc1': 'Nuestro consultorio está ubicado en <strong>La Cumbre</strong>, declarada <strong>Poblado Histórico Nacional</strong> en 2021 por su incalculable valor patrimonial, arquitectónico y cultural.',
        'location.desc2': 'Conocida por su encantador estilo inglés y sus casonas de principios del siglo XX, La Cumbre ofrece un circuito de 32 edificios históricos, gastronomía centroeuropea, el Museo "El Paraíso" y el icónico Cristo Redentor.',

        // Contact
        'contact.title': 'Contacto',
        'contact.subtitle': 'Estamos aquí para cuidar tu sonrisa',
        'contact.schedule': 'Agenda tu cita',
        'contact.scheduleText': 'Escribinos por WhatsApp y te responderemos a la brevedad para coordinar tu consulta.',
        'contact.address': 'Dirección',
        'contact.hours': 'Horarios',
        'contact.weekdays': 'Lunes a Viernes',
        'contact.appointment': 'Requiere turno previo',
        'contact.ctaTitle': 'Tu primera consulta',
        'contact.ctaText': 'Agenda una cita de evaluación donde conoceremos tu caso y te propondremos el mejor plan de tratamiento.',
        'contact.ctaBtn': 'Escribinos por WhatsApp',

        // Footer
        'footer.tagline': 'Más de 70 años cuidando sonrisas',
        'footer.location': 'Ubicación',
        'footer.hours': 'Horarios',
        'footer.contact': 'Contacto',
        'footer.appointment': 'Requiere turno',
        'footer.rights': 'Todos los derechos reservados.'
    },
    en: {
        // Nav
        'nav.home': 'Home',
        'nav.about': 'About',
        'nav.services': 'Services',
        'nav.team': 'Team',
        'nav.location': 'Location',
        'nav.contact': 'Contact',

        // Hero
        'hero.badge': 'Over 70 years of tradition',
        'hero.title': 'Your smile in the best hands',
        'hero.subtitle': 'Three generations dedicated to dental excellence. Personalized care focused on prevention and minimally invasive techniques.',
        'hero.cta': 'Book appointment',
        'hero.cta2': 'Learn more',

        // About
        'about.title': 'A tradition of excellence in dentistry',
        'about.p1': 'Dental Lopez Bartaburu was founded over 70 years ago by Dr. Luis Lopez, who established the foundations of what is today a family tradition dedicated to dental health.',
        'about.p2': 'Today, his daughter Dr. Claudia Lopez de Bartaburu and his granddaughter Dr. Fernanda Bartaburu continue that legacy, combining generations of accumulated experience with the most modern techniques.',
        'about.p3': 'Our philosophy focuses on prevention and performing the least invasive interventions possible, so our patients can enjoy their smile naturally and healthily.',
        'about.stat1': 'Years of experience',
        'about.stat2': 'Generations',
        'about.visual': 'Three generations caring for your smile',

        // Values
        'value1.title': 'Personalized Care',
        'value1.text': 'Every patient is unique. We design treatment plans tailored to your specific needs.',
        'value2.title': 'Prevention',
        'value2.text': 'The best dentistry is one that prevents problems. We help you maintain optimal oral health.',
        'value3.title': 'Minimally Invasive',
        'value3.text': 'Techniques that preserve healthy dental tissue for more natural and lasting results.',

        // Services
        'services.title': 'Our Services',
        'services.subtitle': 'Dental treatments with the highest quality and current technology',
        'service1.title': 'General Dentistry',
        'service1.text': 'Regular check-ups, professional cleanings and preventive treatments.',
        'service2.title': 'Cosmetic Dentistry',
        'service2.text': 'Whitening, veneers and treatments for a perfect smile.',
        'service3.title': 'Restorations',
        'service3.text': 'Fillings, crowns and inlays with state-of-the-art materials.',
        'service4.title': 'Implantology',
        'service4.text': 'Latest generation dental implants to restore missing teeth.',
        'service5.title': 'Periodontics',
        'service5.text': 'Treatment of gums and supporting tissues for a solid foundation.',
        'service6.title': 'Pediatric Dentistry',
        'service6.text': 'Specialized dental care for the little ones in the family.',

        // Team
        'team.title': 'Our Team',
        'team.subtitle': 'Professionals committed to your dental health',
        'team1.role': 'Dentist',
        'team1.bio': 'Second generation of the Lopez family dedicated to dentistry. With decades of experience, she combines family tradition with the most current techniques.',
        'team2.role': 'Dentist',
        'team2.bio': 'Third generation continuing the family legacy. Specialized in the latest minimally invasive dentistry techniques.',

        // Legacy
        'legacy.title': 'A Legacy of Care',
        'legacy.p1': 'It all began over 70 years ago when Dr. Luis Lopez opened the doors of his practice with a clear vision: to provide quality dental care with a human and personal touch.',
        'legacy.p2': 'That vision is still alive today. Every patient who walks through our door receives the same commitment and dedication that characterized our founder.',
        'legacy.quote': '"The best dentistry is one that treats every patient like family."',
        'legacy.cite': '— Dr. Luis Lopez, Founder',

        // Location
        'location.title': 'Our Location',
        'location.subtitle': 'In the heart of La Cumbre, National Historic Town',
        'location.address': 'La Cumbre, Córdoba - ZIP 5178',
        'location.btn': 'View on Google Maps',
        'location.region': 'La Cumbre, Punilla Valley',
        'location.desc1': 'Our practice is located in <strong>La Cumbre</strong>, declared a <strong>National Historic Town</strong> in 2021 for its invaluable heritage, architectural and cultural value.',
        'location.desc2': 'Known for its charming English style and early 20th century houses, La Cumbre offers a circuit of 32 historic buildings, Central European cuisine, the "El Paraíso" Museum and the iconic Christ the Redeemer statue.',

        // Contact
        'contact.title': 'Contact',
        'contact.subtitle': 'We are here to care for your smile',
        'contact.schedule': 'Book your appointment',
        'contact.scheduleText': 'Message us on WhatsApp and we will respond promptly to schedule your consultation.',
        'contact.address': 'Address',
        'contact.hours': 'Hours',
        'contact.weekdays': 'Monday to Friday',
        'contact.appointment': 'Appointment required',
        'contact.ctaTitle': 'Your first consultation',
        'contact.ctaText': 'Schedule an evaluation appointment where we will assess your case and propose the best treatment plan.',
        'contact.ctaBtn': 'Message us on WhatsApp',

        // Footer
        'footer.tagline': 'Over 70 years caring for smiles',
        'footer.location': 'Location',
        'footer.hours': 'Hours',
        'footer.contact': 'Contact',
        'footer.appointment': 'Appointment required',
        'footer.rights': 'All rights reserved.'
    }
};

// i18n System
const i18n = {
    currentLang: 'es',

    init() {
        // Check saved preference
        const saved = localStorage.getItem('lang');
        if (saved && translations[saved]) {
            this.currentLang = saved;
        } else {
            // Auto-detect from browser
            const browserLang = navigator.language || navigator.userLanguage;
            this.currentLang = browserLang.startsWith('es') ? 'es' : 'en';
        }

        this.applyTranslations();
        this.updateLangToggle();
    },

    setLang(lang) {
        if (translations[lang]) {
            this.currentLang = lang;
            localStorage.setItem('lang', lang);
            this.applyTranslations();
            this.updateLangToggle();
            document.documentElement.lang = lang;
        }
    },

    toggle() {
        this.setLang(this.currentLang === 'es' ? 'en' : 'es');
    },

    t(key) {
        return translations[this.currentLang][key] || key;
    },

    applyTranslations() {
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            const text = this.t(key);
            if (el.hasAttribute('data-i18n-html')) {
                el.innerHTML = text;
            } else {
                el.textContent = text;
            }
        });

        // Update page title
        const titleKey = this.currentLang === 'es'
            ? 'Dental Lopez Bartaburu | Odontología con más de 70 años de tradición'
            : 'Dental Lopez Bartaburu | Dentistry with over 70 years of tradition';
        document.title = titleKey;
    },

    updateLangToggle() {
        const toggle = document.querySelector('.lang-toggle');
        if (toggle) {
            toggle.textContent = this.currentLang === 'es' ? 'EN' : 'ES';
            toggle.setAttribute('aria-label', this.currentLang === 'es' ? 'Switch to English' : 'Cambiar a Español');
        }
    }
};

// Initialize on DOM ready
document.addEventListener('DOMContentLoaded', () => i18n.init());
